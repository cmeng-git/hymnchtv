Project hymnchtv Release Notes
=========================================================================
Author:         cmeng
Upload Date:    10/05/2024
Version:        2.4.3 (2040300)
- Remove repeated loadUrl() after setWebViewClient() in English lyrics Web scrapping; it triggers onPageFinished() < 100%
  Web scrapping for English lyrics onPageFinished to ignore progress check
- Update lyrics score wording as per lyrics text
- Center align all English lyrics display text
- Enable update service on both debug and release version

=========================================================================
Author:         cmeng
Upload Date:    08/28/2024
Version:        2.4.2 (2040210)
- Update English lyrics scrapping matching patterns for new hymnal.net site UI design.
- Need to close opened inputStream on end of http connection access.
- Update permission request to include all API variations.
- Cleanup XinShi 新诗 lyrics.
- Update used libraries to latest releases.

=========================================================================
Author:         cmeng
Upload Date:    06/26/2024
Version:        2.4.1 (204010)
- Add user selectable crop aspect ratio per device portrait and landscape screen size when creating main UI wallpaper.
- Modify Notion record pattern matching to cater for source file variations.
- Change version and update asset url_import file content.
- Reassign XB number number #169 to #167 and update relevant supported functions

=========================================================================
Author:         cmeng
Upload Date:    06/17/2024
Version:        2.4.0 (204000)
- Clean and reformat XinShi lyrics text.
- Remove '自建导入" auto import file creation option. Not required since v2.2.0
- Remove option for export all url links and local file paths operation
- Resolve NotionRecord download webView crash problem;
  * using postDelayed (45 Sec) for each hymnType group url access
  * update match pattern for url record extraction
- Make 'Overwrite Existing Record' option apply to both the NQ download and Url import operations
- Prompt user confirmation before proceed with the url file import.
- Interchange Notion and QQ operation option between short and long press
- Remove unused NotionRecordScrape and WebScraper java classes.

=========================================================================
Author:         cmeng
Upload Date:    06/04/2024
Version:        2.3.0 (203000)
- Add new XinShi 新诗 group with 205 hymn titles.
- Add all associated support features for the new added XinShi group.
- Reimplement LocaleHelper to fix cannot be cast to android.app.ContextImpl

=========================================================================
Author:         cmeng
Upload Date:    06/04/2024
Version:        2.2.3 (202031)
- Intermediate release to support >100MB apk download from github release.

=========================================================================
Author:         cmeng
Upload Date:    05/24/2024
Version:        2.2.2 (202020)
- MediaConfig#hasMediaRecord must check null for mediaRecord before proceed.
- when user share an external url link, highlight media url link in RED if it overwrites an existing record..
- Must update media url link text color when user changes any of the hymn field entry i.e. HymnType/MediaType/HymnNo/Fu.

=========================================================================
Author:         cmeng
Upload Date:    05/22/2024
Version:        2.2.1 (202010)
- Hymnchtv will check for any existing mediaRecord url link in DB, including the local media file in hymnchtv sub-directory; and alert user of possible record overwritten when saving in mediaConfig.
- Remove android file picker option for local media file in mediaConfig. The file path returned by android is a temporary url, and the url link saved in DB is invalid for later access.
- After user has entered all required hymn info in MediaConfig UI, the media url link field is now auto filled with media record in DB, or local local media file found in hymnchtv directory.
- Highlight mediaConfig url link text in RED if there is local media file being overshadowed by the url link saved in DB.
- Import of url links will not overshadow any existing local file if overwritten option is unchecked.
- When a new apk is found, make Update button visible and flash its text color to alert user to proceed with the app update.

=========================================================================
Author:         cmeng
Upload Date:    04/12/2024
Version:        2.2.0 (202000)
- Improve English lyrics fetching process reliability.
- Fix ContentHandler#getHymnMediaState that iterates only the first 3 items i.e. missed out ChangShi.
- Rearrange the priorities in directory searching for available media file playback.
- Check existence of local media files in hymnchtv directory with Pattern.compile("[^1-9]" + hymnNo + "[^0-9]") for state indication and playback.
- Add new sites to check for available mp3 media file for download and playback when ChangShi media Type is selected.
- Migrate com.google.android.exoplayer:exoplayer:2.19.1 to androidx.media3:media3-exoplayer:1.3.0.
- Must check and ensure android has defined activity that supports playback the required mimeType via ACTION_VIEW; MediaExoPlayerFragment#playVideoUrlExt().
- Youtube player includes an option to hide video UI; allowing user to view the Lyrics below. Press Back key to show UI again.
- Always save a copy of the url_import records into a local file for user later access.
- When in landscape mode, hide media play UI when exoPlayer or Youtube player has stopped; Need 100ms delay onTransition.
- Ensure DialogActivity OK_Button onClick listener is properly defined.
- Add android Permission Settings to main menu for user selection; android hss really messed up the permissions.
- Upgrade to support android Tiramisu API-34, and add new required permissions request.

=========================================================================
Author:         cmeng
Upload Date:    07/06/2023
Version:        2.1.3 (201030)
- Provide user indication for button that has long press action with underlined text or '...'
- Launch app update dialog once if a new version found, only if hymnchtv is in foreground with device is unlocked state.
- Show app update button in main UI when a new version is found.
- Always show app version with both apk Version and VersionCode.
- Make mediaConfig BackKey event has similar action as the 'Exit" button.
- Update matching Pattern in Web Scraping for English lyrics and minimize race condition.

=========================================================================
Author:         cmeng
Upload Date:    06/18/2023
Version:        2.1.2 (201021)
- Allow direct entry of English hymn number; display the corresponding chinese hymn if exist,
  else just display the English lyrics.
- Short press 'English' button to access to corresponding BB Chinese hymn lyrics,
  or long press to access to corresponding DB if exist.
- showContent() optional item is empty and not null - check error.

=========================================================================
Author:         cmeng
Upload Date:    05/13/2023
Version:        2.1.1 (201010)
- Provide user option to toggle 4 color settings for the hymn score view.
- Make mediaConfig 'Exit' button returns to its parent on click i.e. contentView or Main UI.
- Ensure main UI 'TOC' option button layout position and text color as per design intent.
- Show android notification bar in hymn content view UI; fullScreen mode if enabled has blank taskbar

=========================================================================
Author:         cmeng
Upload Date:    04/13/2023
Version:        2.1.0 (201002)
- Upgrade hymnchtv to support android Tiramisu API-33
- Add user selectable UI Theme support: Theme.DARK and Theme.LIGHT; supporting also webView class.
- Add user selectable Locale : Chinese Simplify and English;
  New LocaleHelper class to support locale setting in HymnApp Application class.
- Add EeGe English lyrics display support.
- Update Permission request to support various android API.
- Create NotificationHelper#getPendingIntentFlag() to support PendingIntentFlag per android API level.
- DialogActivity#showConfirmDialog() must use context.getResources() for user locale to work properly.
- Fix ContentView#toggleLyricsView logic error when mLyricsLoaded is true.
- Update build environment to remove all warning messages during build:
  a. com.android.tools.build:gradle:7.4.2 in build.gradle
  b. distributionUrl=https\://services.gradle.org/distributions/gradle-7.5.1-bin.zip in gradle-wrapper.properties
  c. # deprecated android.enableDexingArtifactTransform=false in gradle.properties
- Fix search string partially clipped under 1920x1080 screen size.
- Application Theme and Locale not set properly for user-wallpaper and ChineseS2T option selection.

=========================================================================
Author:         cmeng
Upload Date:    12/21/2022
Version:        2.0.3 (200030)
- Add user share option for hymn score, lyrics, and mediaUrl if available via an external chat app.
- Support user English lyrics font size change in portrait and landscape modes.
- Do not display an invalid xb hymn page to user.
- Correct lyrics xb165 text error and add xb171 lyrics
- Fix apk update download error to reload without exit app.
- Update lyrics url import file to include version update, avoid repeated action in updateServiceImpl call.

=========================================================================
Author:         cmeng
Upload Date:    11/16/2022
Version:        2.0.2 (200020)
- Add support to auto update the local database media records from online new media import links.
- Use lyrics phrase in search string to improve content matching hit rate during youtube and web search.
- History summary text will use lyrics phrase instead for hymn title.
- Upon a record being updated/deleted, refresh media record list view only if it was visible.
- Upon MediaRecord save/deletion process, always enable auto file i.e. isAutoFilled = true.
- Remove auto clipboard search text insertion, android API-33 always pop-up a nuisance notification.

=========================================================================
Author:         cmeng
Upload Date:    11/05/2022
Version:        2.0.1 (200010)
- Fix partial lyrics text being partially obscured when youtube or exo player is active; cannot use FrameLayout, switch to use R.id.mediaPlayer as container
- Copy the user selected media file, if rename of file to destFile failed during mediaConfig new record creation
- Only perform mediaHymns.clear() if it is not in play state; else user is unable to stop the player.
- Enhance update service to auto generate the required apk for the BuildConfig.BUILD_TYPE, and check for valid downloadable apk.

=========================================================================
Author:         cmeng
Upload Date:    10/26/2022
Version:        2.0.0 (200000)
- Auto translate Chinese Traditional to Simplify text before content search start.
- Support Chinese Simplify to Traditional (HK, TW or TWP) conversion in Chinese lyrics display.
- Support English lyrics display in pager if available, else via external url link (non-secure SSL http blocked by android if access).
- All user actions to show lyrics will be saved in history record i.e. search, toc, and in MediaConfig contents playback.
- Update listview content and keep view item position after a record is deleted in MediaConfig UI.
- Prevent SoftKeyboard being auto show on post media record deletion in MediaConfig
- Fix incorrect lyrics content display after user exited with Home button (use SingleTask MainActivity instead).
- Limit ExoPlayer view height to 0.6 * screenWidth with a background image while in audio media playback.
- Import pre-fetched url record from assets file "url_import.txt", on new installation
- compress all hymn score png files for single apk generation and reduce final apk from 192MB to 90MB
- Update toc_bb_stroke file for 附 incorrect hymn numbering
- Purge all Chinese Traditional lyrics text files

=========================================================================
Author:         cmeng
Upload Date:    10/12/2022
Version:        1.7.6 (107060)
- Change hymnchtv "Search" button operations to:
  * single click to perform hymn info search via youtube.com
  * long press to perform hymn info search via google.com
  * double click - remove
- Purge all the QQ/NOTION HYMN_URL records in database and disable access via "Search" button
- Save QQ records as HYMN_JIAOCHANG mediaType for access via JiaoChang button
- Long press JiaoChang button to access to QQ main page
- Import pre-fetched QQ url record from assets file "qq_url_import.txt", on new installation
- Auto fill hymnType, hymnNo, mediaType and Fu when share via hymnContent UI
- Increase the NUMBER_OF_RECORDS_IN_HISTORY to 200
- Change QQRecord url fetch via web-scrapping implementation
- Disable Notion download support; the site no further exist (long Press to access, will failed with site access error").
- Must clear MediaGuiController#mediaHymns on Radio button changed; else last fetched media will be used for playback
- Add additional check to extract a valid youtubeId for various possible format in YoutubePlayerFragment#getVideoId

=========================================================================
Author:         cmeng
Upload Date:    07/05/2022
Version:        1.7.5 (107052)
- Long press '数库导入' button to import the pre-fetch notion url records from asset file notion_url_import.txt
- Short press 'NQ' for notion url retrieval using webView scrapping;
  * On Note-10; full fetch completed successfully after ~4 minutes on WiFi and ~ 7 minutes on mobile
  2022-07-05 09:18:20.855 9463-9463/org.cog.hymnchtv I/chromium: [INFO:CONSOLE(1)] "2022-07-05T01:18:20.852Z [info] FeatureFlagTransactionQueue: preferInMemory [object Object]", source: https://plume-click-f56.notion.site/629-533e8a3d60f7c9cb0688.js (1)
  2022-07-05 09:22:17.061 9463-9463/org.cog.hymnchtv D/(NotionRecord.java:240)#lambda$saveNQRecord$3: 附录 1-6-诗歌链接：1745 下载完成！
  * on Mobile Network:
  2022-07-05 10:13:55.020 15124-15124/org.cog.hymnchtv I/chromium: [INFO:CONSOLE(1)] "2022-07-05T02:13:55.017Z [info] FeatureFlagTransactionQueue: preferInMemory [object Object]", source: https://plume-click-f56.notion.site/629-533e8a3d60f7c9cb0688.js (1)
  2022-07-05 10:20:33.194 15124-15124/org.cog.hymnchtv D/(NotionRecord.java:241)#lambda$saveNQRecord$3: 追求与长进(401一470)-诗歌链接：1775 下载完成！
  2022-07-05 10:23:18.786 15124-15124/org.cog.hymnchtv D/(NotionRecord.java:146)#lambda$fetchNotionLinks$1: Notion-诗歌链接：1775 下载完成！
  * Both AVD XL API31 and J6 crashes after webView preloaded with initial url's
  A/chromium: [FATAL:crashpad_client_linux.cc(667)] Render process (20523)'s crash wasn't handled by all associated  webviews, triggering application crash.
- Proceed to restart uncompleted Notion hymn url's fetch if any, after 10 minutes post delay wait.
- Long press 'NQ' for QQ url retrieval.
- Double click 'NQ' for Notion url retrieval via scrapingAnt; only 10,000 records for free account using x-api-key

=========================================================================
Author:         cmeng
Upload Date:    06/15/2022
Version:        1.7.4 (107040)
- Replace partial inaccessible QQ web url with the new Notion web url in content search
- All QQ media url links for HYMN_DB will be ignored and default to main Notion web url
- Allow store of notion or qq url to other media type storage location;
  Proceed to show Notion web url if mediaLink contains notion or qq on playback button click
- Long press media button to access to the Notion web url
- Long press changShi button to access to the QQ web url
- Update media url link field upon successful deletion of the mediaRecord
- Fix QQ record fetch/creation error: Must remove comment sub string before submit for JSONArray(str) conversation

=========================================================================
Author:         cmeng
Upload Date:    05/28/2022
Version:        1.7.3 (107030)
- Fix MediaConfig#createAutoImportFile failed to generate media import file; must createNewFile() if not exist
- MediaConfig#createAutoImportFile now uses user selected HymnType and MediaType as source directory/files for import file generation.
- Update deprecated LifecycleObserver with LifecycleEventObserver in android-youtube-player
- Update deprecated ConnectivityManager in android-youtube-player
- Use NetworkCallBack in place of deprecated Broadcast Receiver in android-youtube-player

=========================================================================
Author:         cmeng
Upload Date:    01/14/2022
Version:        1.7.2 (107020)
- Add swipe left/right on hymn history list to reveal/hide open and delete action buttons
- Fix media record saving failed if the destination directory contains the same file name
- Ensure MediaConfig#updateMediaRecord() always provide user with an update status message
- add support mediaConfig UI to support in landscape mode
- Change TouchListener class to implement default actions; can be override by user
- Upgrade build to support android API-32
- remove invalid maven {url 'https://dl.bintray.com/google/exoplayer/'} in build.gradle

=========================================================================
Author:         cmeng
Upload Date:    01/06/2022
Version:        1.7.1 (107013)
- Add TouchListener class to support SingleTap, DoubleTap and LongPress
- Update and redefine hymn info search function button in the media content playback UI to support:
  * singleTap to perform hymn info search via qq.com (main page if none found)
  * longPress to perform hymn info search via youtube.com
  * DoubleTap to perform hymn info search via google.com
- LongPress on 'MediaButton' to show QQ-info main page

- Add QQ function button in MediaConfig UI
  * singleTap to build QQ-info DB; on confirmation by user
- Allow link-share from QQ-info hymn link into hymnchtv database for later retrieval

- Fix and allow hymnchtv update via standard android package installation
- Allow download and install/reinstall the apk for the new or same version
- Change downloaded apk path to ./hymnchtv/tmp to auto create new apk filename if exist; else FilePathHelper#getFilePathWithCreate() will keep old apk file if exit
- Further improvement: Change FilePathHelper#getRealPath to use MediaStore.MediaColumns.DATA to retrieve filePath

- Use android default web browser for hymn info search; allowing selected video link for sharing with hymnchtv
- Revert WebViewClient#isDomainMatch() to its previous correct implementation
- Revert English Lyrics view to use WebView for avoid reload if use access the same hymnNo.
- Bug fix errors found in app version code 107010

=========================================================================
Author:         cmeng
Upload Date:    12/31/2021
Version:        1.7.0 (107000)
- Full implementation of all the features as in 1.7.1, but using a separate hymn_qq database.
- Add QQ function button in MediaConfig UI
  * singleTap to build QQ-info DB; on confirmation by user
  * longPress to show the all records in QQ-info DB in ListView
  * longPress an item in ListView to delete record

- Hymnchtv v1.7.1 will revert to use the same database structure as in v1.6.4
- Source v1.7.0 check in for future reference only, but no public app released

=========================================================================
Author:         cmeng
Upload Date:    12/24/2022
Version:        1.6.4 (106040)
- Add hymn info search function button in the media content playback UI
  * single click to perform hymn info search via youtube.com
  * long press to perform hymn info search via google.com
- Auto copy hymnInfo string to clipboard, allowing user to paste into own defined search engine.
- Replace deprecated LifecycleObserver with LifecycleEventObserver in hymnchtv

=========================================================================
Author:         cmeng
Upload Date:    11/16/2021
Version:        1.6.3 (106030)
- Fixed crashes when user clicks share link without a valid media info entry
- Upgrade build to support android-12(S) i.e. API-31

=========================================================================
Author:         cmeng
Upload Date:    09/20/2021
Version:        1.6.2 (106020)
- Allow dynamic setting of playback speed in audio mediaPlayer playback
- Fix app crashes when user supplies an invalid media url for playback causing IOException | IllegalStateException
- Fix checkLoopSyncAction() with NullPointerException when playbackCounts.get(key) return null
- Alert user when the supplied media url is not valid for playback
- cleanup media player loop count edit UI display; remove edit underscore bar
- Remove unused youtubeExtractor implementation

=========================================================================
Author:         cmeng
Upload Date:    08/07/2021
Version:        1.6.1 (106010)
- Add Lyrics text size change options in context menu and simplify UI.
  Remove 2-point touch for lyrics size changed; too much interference with andorid native context menu.
- Lyrics text size change settings are saved, restored and applied to existing and all new hymn content display.
- Use alternate link address for fetching if possible when the primary link is not accessible for media content fetching
- All the media radio buttons now provide the availability status of the local media.
- Redefine Export button functions to createExportFile (short click), and createExportLink (long click)
  i.e. full record or link only text file for sharing.
- In media config, user may share single media record, or the export records/links text file with other user.
- The media config link can now contain either a youtube link for single/playlist playback; video/audio media content link;
  or a downloadable audio media link including mp3 and midi format.
- Youtube player now support single or playlist playback i.e. Fallback to use as playlist if youtube url load failed.
- Enhance android youtube player to add features:
  loadPlaylist;  loadPlaylist_videoIds; previousVideo; nextVideo
  getVideoUrl; sendVideoUrl; onVideoUrl
- Check for file access permission when create new files
- Add network_security_config to allow clearText sites access
- Fixed ZoomTextView: need to use a Theme.AppCompat theme (or descendant) with this activity.
  Add android:theme="@style/Theme.AppCompat.Light.NoActionBar" in ContentHandler in manifest file

=========================================================================
Author:         cmeng
Upload Date:    06/26/2021
Version:        1.6.0 (106000)
- Add android youtube player using IFrame Player API to avoid video link extraction error
- HymnConfig playback for local media or youtube link, will always via the hymn content ui for user lyrics confirmation
- HymnConfig playback click will auto start playing
- Extend JobIntentService instead of background service for AudioBgService to avoid Android 8.0:
  java.lang.IllegalStateException: Due to startup background service when aTalk is in background
  Note: extends JobIntentService always call onDestroy everytime -> need to set many variables as static;
        extends Service onDestroy only get executed once when aTalk exit

=========================================================================
Author:         cmeng
Upload Date:    06/14/2021
Version:        1.5.8 (105080)
- Main menu can now be placed in landscape mode, use in android tv box
- Upgrade to 'com.github.HaarigerHarald:android-youtubeExtractor:46579d1'
  Fix java.io.FileNotFoundException in youtube link extraction.
- Standardize backKey behavior to stop current media playing in progress for both video and audio.
- Allow user to update wallpaper with current display image, i.e. without user needs to go into crop screen.
- Allow crop of wallpaper image in user selectable aspect ratio.
- Show wallpaper dimension in wallpaper editor screen.
- upgrade all available libraries' versions.

=========================================================================
Author:         cmeng
Upload Date:    04/14/2021
Version:        1.5.7 (105070)
- Implement ExoPlayer in a fragment, to allow coexistence of lyrics view and video playback
- User toggles of media controller gui view is persistent across screen rotations
- Allow removal of hymn playback history item

- ContentHandler and MediaExoPLayer activities are set to android:configChanges="keyboardHidden|orientation|screenSize";
  device orientation changes are now handled by mediaPlayer/exoPlayer with smooth audio/video playback on screen rotation.
- Merge custom playback speeds with exoplayer playback control settings
- Upgrade exoplayer to v2.13.2

=========================================================================
Author:         cmeng
Upload Date:    03/07/2021
Version:        1.5.6 (105060)
- Lyrics zoom double fingers tap UI improvement in size reduction steps
- Intelligently auto clear the previous entered hymnNo on user digit entry
- Only clear the user entered hymnNo if user entry is Fu and HymnType is not HYMN_DB

=========================================================================
Author:         cmeng
Upload Date:    02/16/2021
Version:        1.5.5 (105050)
- Implement ZoomTextView class for lyrics text allowing user zoomIn/zoomOut with pin action or with 2-point double touch detection
- Add user option to set max lyrics scale factor (or zoomIn)
- Release ExoPlayer resources in onPause life cycle to take care (Build.VERSION.SDK_INT < Build.VERSION_CODES.N)
- MediaExoPlayer: onSaveInstanceState() may be called after or prior to onStop pending on OS version
  if (Build.VERSION.SDK_INT < Build.VERSION_CODES.N)
     onSaveInstanceState is called after onPause but before onStop
  if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.N)
    onSaveInstanceState is called only after onStop
- Need to set text color in Hymnchtv; although ExoStyledControls.ButtonText specifies while
  TextView rewindButtonTextView = findViewById(com.google.android.exoplayer2.ui.R.id.exo_rew_with_amount);
  rewindButtonTextView.setTextColor(Color.WHITE);
  TextView fastForwardButtonTextView = findViewById(com.google.android.exoplayer2.ui.R.id.exo_ffwd_with_amount);
  fastForwardButtonTextView.setTextColor(Color.WHITE);
- Clean database and log utilities to remove stray info for aTalk

=========================================================================
Author:         cmeng
Upload Date:    02/02/2021
Version:        1.5.4 (105040)
- MediaConfig DB record list if visible, will be updated when user selects other HymnType
- Highlight user selected media record item (See SimpleList Adapter implementation)
- Support media records export for all the four hymnType in a single file by long press "DB Export"
- Enhance MediaExoPlayer features to include user selectable options for playback repeat and speed etc.
- Add audio media capable to mExoPlayer for mediaConfig local playback;
  Use content view UI for playback if local MP3 media is specified with valid hymn parameters
- MediaExoPlayer: onSaveInstanceState() may be called after or prior to onStop pending on OS version;
  must save a copy of mExoPlayer.getCurrentPosition() in startPositionMs before stopping mExpPlayer.
- Fix logical check for ((Build.VERSION.SDK_INT >= Build.VERSION_CODES.N) && isFinishing()) leads to
  mExpPlayer not properly stop; and keep adding new on screen rotation.
- Add support for user to report bug with attached logcat in About menu

=========================================================================
Author:         cmeng
Upload Date:    01/15/2021
Version:        1.5.3 (105030)
- Fix UnsupportedOperationException: in Xiaomi Mi 11 Android 11 (SDK 30)
 * Change deprecated mInstance.getDisplay().getSize(size) to getCurrentWindowMetrics().getBounds()
- Rebuild with AS v4.2-Beta3, seems to resolve SM-J730GM random abort problem

=========================================================================
Author:         cmeng
Upload Date:    01/09/2021
Version:        1.5.2 (105020)
- Add history for recently selected hymn title
- Migrate FragmentStatePagerAdapter to the latest improved viewpager2.adapter.FragmentStateAdapter:
  stable version and fixes many of the weaknesses.
  see reported problem on FragmentStateAdapter: https://issuetracker.google.com/issues/177051960
- Resolve youtube link extractor error with build from lastest master release i.e.
  'com.github.HaarigerHarald:android-youtubeExtractor:69f7045'
- Migrate all the StartActivityForResult calls to ActivityResultContract#ActivityResultLauncher implementation
- Remove openFileChooser() support in WebViewFragment

=========================================================================
Author:         cmeng
Upload Date:    01/01/2021
Version:        1.5.1 (105010)
- Support user defined wall paper with integrated image editor zoom/crop to ease user defined wallpaper setup
- Extends MyPagerAdapter to use FragmentStatePagerAdapter instead of FragmentPagerAdapter to minimize memory usage
  see: https://stackoverflow.com/questions/18747975/what-is-the-difference-between-fragmentpageradapter-and-fragmentstatepageradapte
- MediaConfig#createImportFile(): Sort file list in ascending order before creating export file
- Add demo video on the user in user defined media configuration setup for both android share and auto create export file
- Show error message when media file downloading timeout in MediaDownloadHandler#checkProgress().
- Fix field failure report for hymnchtv v1.4.2
  1. android.os.TransactionTooLargeException: (unable to find any large transaction)
  * see https://github.com/guardian/toolargetool on usage
  * TooLargeTool: MainActivity.onSaveInstanceState wrote: Bundle181794671 contains 6 keys and measures 5.4 KB when serialized as a Parcel
- Do not auto launch the RichText Editor if user selection is for mediaUri and set isAutoFilled to false
- RichText Editor title will diplay edited file name
- MediaConfig#copyToLocalFile() should only apply to import_export file and not the mediaUri
- MediaConfig: replace StartForActivity with ActivityResultLauncher callback
- Remove askUninstallApk() option in UpdateServiceImpl and remove static reference to MainActivity instance
- Remove playVideoUrl_mp support source using mediaPlayer - not used.

=========================================================================
Author:         cmeng
Upload Date:    12/26/2020
Version:        1.5.0 (105001)
- Add support for User Defined Media Contents i.e. video and audio per hymn title for play back
- Support android share sheet to add media content or url link from external application as user defined media content
- Allow export of the user defined media contents saved in predefined directory to share with other devices via import
- Auto creation of the export file from media contents files stored in the predefined directory; for inclusion in the user defined media for play back
- Include embedded media player for playing back of the user defined video media and youtube url
- Support user defined media list viewer, and an embedded text editor to ease the export and import the user defined media
- Created dbHymnApp.db database to support User Defined Media
- Make lyrics text and search content selectable for copy via double clicks at desired text location
- Enhance android getMimeType i.e. MimeTypeMap.getFileExtensionFromUrl() to support unicode uri
  Must URLEncoder for unicode text before submit for MimeTypeMap.getFileExtensionFromUrl(), else return ""
- Fix media player not playing user newly selected media type on entry to the lyrics display page;
  it plays previously selected media type instead.
  * Do not init mediaHymns in onResume stage as it will use the old HymnType to load the uri
- Ensure mTocSpinnerItem on selection, its fontType and fontColor are set to user defined
- Fixed main UI Category text style not properly updated to user selected font size/color properties
- Retrieve the actual fileName when android share file via content:// scheme.
  See FilePathHelper#getFilePathWithCreate()
- Fix auto create export file cause hymnNo to be '0000' due to logical error
- Cleanup and consolidate all HymnType buttons click in main UI into a common routine
- Rename MediaController to MediaGuiController to avoid conflict with android class

=========================================================================
Author:         cmeng
Upload Date:    11/15/2020
Version:        1.4.2 (104020)
- Add back accidentally removed feature: auto hide media player UI when device is in landscape mode
- Remove local English lyrics content display feature - keep the web access

=========================================================================
Author:         cmeng
Upload Date:    11/12/2020
Version:        1.4.1 (104010)
- Fix MediaPlayer UI does not update its UI when playback end-occur if last playback is manually stop.
  * Must clear playbackCounts value for the key mp after it is stopped and released;
    else it has loopCount value == 1 in checkLoopSyncAction() and PlaybackState.stop is not broadcast
- Cleanup MediaHandler# updateProgress() and Calculate a moving average for file download speed with
  a larger SMOOTHING_FACTOR; so the UI display remaining time is no so jumpy
- Add TOC for English to Chinese cross-reference option
- Correct mistakes in lyrics bb139 and dds & bbs English cross-references

=========================================================================
Author:         cmeng
Upload Date:    10/25/2020
Version:        1.4.0 (104000)
- Implement Play Asset Delivery to meet play store requirements
  https://developer.android.com/guide/app-bundle/asset-delivery
- Add support for PAD AssetFile object access and InputStream for Glide image loader
- Add online help contents and youtube hymnchtv demo video
- Remove app update option for play store release
- For PAD local testing need to build bundle, then use the following for apk conversion and install
  java -jar ../bundletool.jar build-apks --bundle=./hymnchtv/build/outputs/bundle/debug/hymnchtv-debug.aab --output=./hymnchtv/build/outputs/apk/debug/hymnchtv-debug.apks --overwrite --local-testing
  java -jar ../bundletool.jar install-apks --apks=./hymnchtv/build/outputs/apk/debug/hymnchtv-debug.apks  --adb=/usr/bin/adb40
  * Refet to https://developer.android.com/studio/command-line/bundletool for more info
- Remove the unused flag ContentHanlder#mPlayMode

=========================================================================
Author:         cmeng
Upload Date:    10/21/2020
Version:        1.3.5 (103050)
- Migrate to use android OBB objects to reduce the size of the main apk file
- Add support OBBFile object and InputStream to Glide image loader
- Import play-apk-expansion and play-licensing for OBB support
- Add xAPK download support libraries i.e.
  * https://github.com/google/play-apk-expansion
  * https://github.com/google/play-licensing
- For xAPK build, create a zip main.104000.org.cog.hymnchtv.obb with contents from assests/lyrics_xx_scores,
  with file path name, then remove lyrics_xx_scores before build. The obb file is copied to Android/obb/org.cog.hymnchtv/
- xAPK version not relase to user as android has moved to use Play Asset Delivery
  https://developer.android.com/guide/app-bundle/asset-delivery

=========================================================================
Author:         cmeng
Upload Date:    10/13/2020
Version:        1.3.4 (103040)
- Implement multiple midi media repeat playback synchronization solution to within 'for' loop (< 5ms)
- Ensure MediaController#MpBroadcastReceiver() handler correctly for multiple midi file playback
- Incorrect pass "1.1x" in playback speed for AudioBgService Float.parseFloat(speed) - system crash

=========================================================================
Author:         cmeng
Upload Date:    10/12/2020
Version:        1.3.3 (103030)
- Add new hymns' toc categories for user direct hymnNo select
- Generate all required cross-reference text files for TOC categories creation
- Remove support and deleted all old toc layouts and toc png contents (images only)
- Change 新歌颂咏 category 新诗 => 新诗歌, and remove last category 奉献的祷告 for correct dnlink creation
- Add media playback looping option
- Redefined usage for ATTR_PAGE; i.e. use as hymn toc
- Change UI to handle fu entry

=========================================================================
Author:         cmeng
Upload Date:    10/05/2020
Version:        1.3.2 (103020)
- Remove deprecated .setTextColor(getResources().getColor()) and remove drawable.xml
- Make some change to the color choice for user selection
- Fix btn_er missed out in setFont color
- Correct 儿童诗歌 TOC and Title incorrect words used i.e. 亲近依靠主 => 亲近倚靠主; some 主阿 => 主啊
  to create correct link for media download
- Top fragment must set android:clickable="true" and android:focusable="true" to prevent touch
  action falls through to underlying fragment e.g. file_xfer_ui.xml

=========================================================================
Author:         cmeng
Upload Date:    10/02/2020
Version:        1.3.1 (103010)
- Add media playback for 儿童诗歌 changShi
- Fix incorrect save directories specified for both 儿童诗歌 and 新歌颂咏
- MainActivity: remove unused pop handler and add xbpop handler for xb_Toc
- Fix hymnchtv exits app when closing the xb toc.

=========================================================================
Author:         cmeng
Upload Date:    09/29/2020
Version:        1.3.0 (103000)
- Add er lyrics text and include them in the content view and search items
- Implement file transfer and media content download from the web and stored in local directories for later use
- Implement media playback speed control from 0.7x ~ 1.3x for all the media types
- Fix mCount index out of bound in contentSearch; clean up source using common routine
- MediaController: Need to SaveInstanceState for playerState, playerInfo and playerUris
  i.e. ensure proper restoring of the player state under these conditions: hymn playing, change hymn number, screen rotate and return
- Must have only one instance of MediaHandler for properly display of file transfer gui display.
- Add support for replaceAll("他", "祂"), as "祂" cannot be entered from android standard keyboard.
- Rename nb to xb for the references and contents file name
- Continue searching for Tradition Chinese causes hymntv to hang due to GC; so block further searching in Traditional Chinese
  * Background concurrent copying GC freed 31304(10MB) AllocSpace objects, 0(0B) LOS objects, 49% free, 16MB/33MB, paused 43us total 316.862ms

=========================================================================
Author:         cmeng
Upload Date:    09/20/2020
Version:        1.2.1 (102010)
- HymnNo2IdxConvert limit check should use <= e.g. if (hymnNo <= HYMN_BB_NO_MAX) {}
- Incorrect using of LYRICS_DB_SCORE for text search, should use LYRICS_DB_TEXT => app aborted
- Increase maximum search items to 100 with length=100 (5-line result); always display the matched result at start of line
- Add new song lyrics text and include it the search items
- Change all files make reference to the MainActivity defined static values
- Purge all old apk files from Download directory
- Clean up java source and comments

=========================================================================
Author:         cmeng
Upload Date:    09/17/2020
Version:        1.2.0 (102001)
- All hymn contents i.e. raw, png, txt reference are now using hymn no.
- All lyrics contents are now stored in asset for max application control.
- Add utilities to support HymnNo2Idx and HymnIdx2No conversion.
- Resolve PlayerUI setVisibility not working after the screen rotation.
- Fix user playback active seek is not synchronous with multi-midi track playback
- Implement multi-pages lyrics view to use vertical scrolling instead of pager slide.
- lyrics view in Landscape mode is displayed with screen max width with vertical scrolling and hide playerUi by default.
- Media player hymn info and midi playback is now synchronized with user selected hymn number
  playback continue with current until the end of song or stop by user; info is then updated
- add children song lyrics and new song scores nb157.png to nb166.png, and nb169.png.
- Make corrections to all lyrics text, standardize the format and closing ' before ,.!

=========================================================================
Author:         cmeng
Upload Date:    09/14/2020
Version:        1.1.1a (101011)
- Release for source reference only before major changes to use lyrics number (no for apk release)
- Migrate all content files from res to asset directory
- Implement routines to rename all content files i.e. .png and .md for DB, BB and NB to use hymn number
- Implement hymn index to actual hymn lyrics number converter

=========================================================================
Author:         cmeng
Upload Date:    09/12/2020
Version:        1.1.1 (101010)
- Add CopyRights and source cleanup
- Add readme file and necessary info for github release

=========================================================================
Author:         cmeng
Upload Date:    09/11/2020
Version:        1.1.0 (101000)
Use FragmentPagerAdapter approach and clean up:
- Activate contextMenu in contentView Fragment
- On return to home, stop the player
- Must use ResId for hymn page display using MyGlideApp, otherwise random page appear.
- Fix screen rotation crashes.
- Cannot set ContentView#hymnResName to static, otherwise PagerAdapter display incorrect pages.
- Crop drawable images for max size view
- Add all missing lyrics text for both db and bb simplified Chinese.
- Make simplified Chinese lyrics as the first to search for user entry text.

=========================================================================
Author:         cmeng
Upload Date:    09/07/2020
Version:        1.0.1a (10011)
- Replace FragmentPagerAdapter (ViewPager) with GalleryAdapter (BaseAdapter) class
- ViewPager has fixed Note5 crashes when slide hymn content while playing is in progress
  i.e. Fix OutOfMemoryError when using GalleryAdapter
- Use Glide to display hymn content without zoom function.

=========================================================================
Author:         cmeng
Upload Date:    09/04/2020
Version:        1.0.1 (10010)
- Change package name Id from com.example.song to org.cog.hymnchtv
- Rewrite MainActivity and contentHandler classes
- Add application HymnsApp class for future expansion
- Use HymnsApp.getFileResId() to get the android resId for resource instead of using hard coded library
  Purged unused static library classes for b.java, db.java, n.java, mb, mbc, mdb, mdbc classes
- Add MediaController and AudioBgService to support full media playback with full UI and control

=========================================================================
Author:         cmeng
Upload Date:    08/29/2020
Version:        1.0.0 (10000)

- first release based on hymnchtv decompiled source
- Clean up original sources and remove redundant sources


